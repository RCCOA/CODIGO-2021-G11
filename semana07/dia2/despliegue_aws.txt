#PASOS PARA DESPLIEGUE EN AWS
1 - actualizar ubuntu e instalar librerias
sudo apt update
sudo apt install python3-pip python3-dev libpq-dev postgresql postgresql-contrib nginx curl

2 - CREAMOS LA BASE DE DATOS EN postgresql
sudo -u postgres psql
CREATE DATABASE shop;
CREATE USER codigo WITH PASSWORD 'codigo2022';

ALTER ROLE codigo SET client_encoding TO 'utf8';
ALTER ROLE codigo SET default_transaction_isolation TO 'read committed';
ALTER ROLE codigo SET timezone TO 'UTC';

GRANT ALL PRIVILEGES ON DATABASE shop TO codigo;

\q

3 - CREAMOS ENTORNO VIRTUAL Y CONFIGURAMOS python3

sudo apt install python3.8-venv
python3 -m venv venv
source venv/bin/activate


----------

DESPLIEGUE CON GUNICORN Y NGINX
1 - probamos gunicoen
recolectamos staticos

python3 manage.py collectstatic
gunicorn --bind 0.0.0.0:8000 shop.wsgi

2 - copiar los archivos al sevidor
primero se debe subir por git y hacer git pull en el servidor

ingresamos a la carpeta awsconf

sudo cp gunicorn.socket /etc/systemd/system/gunicorn.socket

sudo cp gunicorn.service /etc/systemd/system/gunicorn.service

sudo cp shop /etc/nginx/sites-available/shop





